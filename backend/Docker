# Use an official Python runtime as a parent image
FROM python:3

# setup a username and group
RUN addgroup --system --gid 1001 python_group
RUN adduser --system --uid 1001 python_user
# set the user
USER python_user
# Set the working directory to /app
WORKDIR /app
# update the package list
RUN apt-get update
# update pip
RUN pip install --upgrade pip


COPY requirements.txt ./
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD [ "python", "/app/manage.py runserver" ]